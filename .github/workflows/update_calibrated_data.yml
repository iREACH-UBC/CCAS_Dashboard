      # ğŸ” Quick probe: are we really reaching R2?
      - name: Debug R2 connection
        run: |
          Rscript - <<'RSCRIPT'
          library(aws.s3); library(httr); library(jsonlite)

          host   <- sub("^https?://", "", Sys.getenv("R2_ENDPOINT"))
          bucket <- "outdoor-calibrations"
          key    <- "2021/Calibration_Models.obj"

          cat("HOST            :", host, "\n")
          cat("AWS KEY present :", nzchar(Sys.getenv("AWS_ACCESS_KEY_ID")), "\n")
          cat("AWS KEY prefix  :", substr(Sys.getenv("AWS_ACCESS_KEY_ID"), 1, 4), "****\n")
          cat("AWS SECRET set  :", nzchar(Sys.getenv("AWS_SECRET_ACCESS_KEY")), "\n")

          # List the sensor folder (signed request)
          cat("\n-- get_bucket() ------------\n")
          res <- tryCatch(
            aws.s3::get_bucket(bucket   = bucket,
                               prefix   = "2021/",
                               base_url = host,
                               region   = "auto"),
            error = identity
          )
          print(res)

          # HEAD request for the OBJ (signed request)
          cat("\n-- head_object() -----------\n")
          hdr <- tryCatch(
            aws.s3::head_object(object = key,
                                bucket = bucket,
                                base_url = host,
                                region = "auto"),
            error = identity
          )
          print(hdr)

          # Raw GET (unsigned) to see what Cloudflare returns
          cat("\n-- raw HTTPS GET ------------\n")
          url <- paste0("https://", host, "/", bucket, "/", key)
          r   <- httr::GET(url)
          cat("HTTP status:", httr::status_code(r), "\n")
          cat("First 120 bytes:\n",
              rawToChar(httr::content(r, "raw") [1:120]), "\n")
          RSCRIPT
